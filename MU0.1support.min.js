;!function(){var f=[],g=[];window.msup={asyncComp:function(e){var t,r,a,l,o,n=e.way,i=e.data,c=document.createElement("div"),s=e.success,d=e.send,g=new XMLHttpRequest;if("function"!=typeof s)return console.error("Callback should be defined"),document.createElement("div");g.onerror=function(e){console.error(e)},g.onload=function(){if(t=this.responseText,void 0!==i&&(t=function(e,n){var t,r,a=n.slice(0);if(-1==a.search(">>logic")){for(var l in e)e.hasOwnProperty(l)&&(a=a.replace(new RegExp("#"+l,"g"),e[l]));return a}r=a.split(">>logic")[0],t=a.split(">>logic")[1];var o=document.createElement("div");for(var l in o.innerHTML=t,e)if(e.hasOwnProperty(l))if(0<o.getElementsByTagName("var:"+l).length&&0<o.getElementsByTagName("var:"+l)[0].getElementsByTagName("case:"+e[l]).length){var i=o.getElementsByTagName("var:"+l)[0].getElementsByTagName("case:"+e[l])[0].innerHTML;i=i.replace(new RegExp("{data}","g"),e[l]),r=r.replace(new RegExp("#"+l,"g"),i)}else if(0<o.getElementsByTagName("var:"+l).length&&0<o.getElementsByTagName("var:"+l)[0].getElementsByTagName("default").length){var c=o.getElementsByTagName("var:"+l)[0].getElementsByTagName("default")[0].innerHTML;c=c.replace(new RegExp("{data}","g"),e[l]),r=r.replace(new RegExp("#"+l,"g"),c)}else r=r.replace(new RegExp("#"+l,"g"),e[l]);return r}(i,t)),c.innerHTML=t,r=c.querySelector("style"),null!=(l=c.querySelector("script"))&&((a=document.createElement("script")).innerHTML=l.innerHTML),0<(o=c.querySelector(":not(style):not(script")).getElementsByTagName("send").length&&void 0!==d&&"object"==typeof d&&0<d.length){var n=o.getElementsByTagName("send")[0];d.forEach(function(e){n.parentElement.insertBefore(e,n)})}null!=r&&o.appendChild(r),void 0!==a&&o.appendChild(a),s(o)},g.open("post",n),g.send()},loadComp:function(e){var s=e.name,n=e.way,d=e.success,t=new XMLHttpRequest;s?n?(t.onload=function(){var e,n,t=this.responseText,r=document.createElement("div");if(-1===g.indexOf(s)){if(g.push(s),0<=t.search(">>logic")){e=t.split(">>logic")[0],n=t.split(">>logic")[1];var a={};for(var l in r.innerHTML=n,r.children)if(r.children.hasOwnProperty(l)){a[r.children[l].localName.slice(4)]={};var o=r.children[l].children;for(var i in o)if(o.hasOwnProperty(i)){var c=o[i].localName;"default"!==c&&(c=c.slice(5)),a[r.children[l].localName.slice(4)][c]=o[i].innerHTML}}f[s]={body:e,logic:a}}else f[s]={body:t};void 0!==d&&d(t)}else console.error('The component named "'+s+'" is already loaded!')},t.open("post",n),t.send()):console.error("Way is not defined"):console.error("Name is not defined")},loadedComp:function(e){var n,t,r,a,l,o,i=e.name,c=e.data,s=e.send,d=document.createElement("div");if(!f[i])return console.error("Component "+i+" is not loaded"),document.createElement("div");if(n=f[i].body.slice(0),t=f[i].logic,c)for(var g in c)if(c.hasOwnProperty(g))if(t)if(t[g]&&t[g][c[g]])p=(p=t[g][c[g]].slice(0)).replace(new RegExp("{data}","g"),c[g]),n=n.replace(new RegExp("#"+g,"g"),p);else if(t[g]&&t[g].default){var p;p=(p=t[g].default.slice(0)).replace(new RegExp("{data}","g"),c[g]),n=n.replace(new RegExp("#"+g,"g"),p)}else n=n.replace(new RegExp("#"+g,"g"),c[g]);else n=n.replace(new RegExp("#"+g,"g"),c[g]);if(d.innerHTML=n,a=d.querySelector(":not(style):not(script)"),l=d.querySelector("script"),r=d.querySelector("style"),l&&((o=document.createElement("script")).innerHTML=l.innerHTML),0<a.getElementsByTagName("send").length){var m=a.getElementsByTagName("send")[0];s&&s.forEach(function(e){m.parentElement.insertBefore(e,m)}),m.remove()}return o&&a.appendChild(o),r&&a.appendChild(r),a},getList:function(){return g.slice(0)}}}();