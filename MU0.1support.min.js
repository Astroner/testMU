;!function(){var m=[],g={state:[],subscribers:[],add:function(n){var t=this;this.state.push(n),this.subscribers.forEach(function(e){e(n,t.getState())})},getState:function(){return this.state.slice(0)},subscribe:function(e){"function"==typeof e&&this.subscribers.push(e)}};function n(e){var c=e.name,n=e.way,d=e.success,t=new XMLHttpRequest;c?n?(t.onload=function(){var e,n,t=this.responseText,r=document.createElement("div");if(-1===g.state.indexOf(c)){if(0<=t.search(">>logic")){e=t.split(">>logic")[0],n=t.split(">>logic")[1];var a={};for(var i in r.innerHTML=n,r.children)if(r.children.hasOwnProperty(i)){a[r.children[i].localName.slice(4)]={};var l=r.children[i].children;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o].localName;"default"!==s&&(s=s.slice(5)),a[r.children[i].localName.slice(4)][s]=l[o].innerHTML}}m[c]={body:e,logic:a}}else m[c]={body:t};g.add(c),void 0!==d&&d(t)}else console.error('The component named "'+c+'" is already loaded!')},t.open("post",n),t.send()):console.error("Way is not defined"):console.error("Name is not defined")}window.msup={asyncComp:function(e){var t,r,a,i,l,n=e.way,o=e.data,s=document.createElement("div"),c=e.success,d=e.send,g=new XMLHttpRequest;if("function"!=typeof c)return console.error("Callback should be defined"),document.createElement("div");g.onerror=function(e){console.error(e)},g.onload=function(){if(t=this.responseText,void 0!==o&&(t=function(e,n){var t,r,a=n.slice(0);if(-1==a.search(">>logic")){for(var i in e)e.hasOwnProperty(i)&&(a=a.replace(new RegExp("#"+i,"g"),e[i]));return a}r=a.split(">>logic")[0],t=a.split(">>logic")[1];var l=document.createElement("div");for(var i in l.innerHTML=t,e)if(e.hasOwnProperty(i))if(0<l.getElementsByTagName("var:"+i).length&&0<l.getElementsByTagName("var:"+i)[0].getElementsByTagName("case:"+e[i]).length){var o=l.getElementsByTagName("var:"+i)[0].getElementsByTagName("case:"+e[i])[0].innerHTML;o=o.replace(new RegExp("{data}","g"),e[i]),r=r.replace(new RegExp("#"+i,"g"),o)}else if(0<l.getElementsByTagName("var:"+i).length&&0<l.getElementsByTagName("var:"+i)[0].getElementsByTagName("default").length){var s=l.getElementsByTagName("var:"+i)[0].getElementsByTagName("default")[0].innerHTML;s=s.replace(new RegExp("{data}","g"),e[i]),r=r.replace(new RegExp("#"+i,"g"),s)}else r=r.replace(new RegExp("#"+i,"g"),e[i]);return r}(o,t)),s.innerHTML=t,r=s.querySelector("style"),null!=(i=s.querySelector("script"))&&((a=document.createElement("script")).innerHTML=i.innerHTML),0<(l=s.querySelector(":not(style):not(script")).getElementsByTagName("send").length&&void 0!==d&&"object"==typeof d&&0<d.length){var n=l.getElementsByTagName("send")[0];d.forEach(function(e){n.parentElement.insertBefore(e,n)})}null!=r&&l.appendChild(r),void 0!==a&&l.appendChild(a),c(l)},g.open("post",n),g.send()},loadComp:function(){for(var e=0;e<arguments.length;e++)n(arguments[e])},loadedComp:function(e){var n,t,r,a,i,l,o=e.name,s=e.data,c=e.send,d=document.createElement("div");if(!m[o])return console.error("Component "+o+" is not loaded"),document.createElement("div");if(n=m[o].body.slice(0),t=m[o].logic,s)for(var g in s)if(s.hasOwnProperty(g))if(t)if(t[g]&&t[g][s[g]])p=(p=t[g][s[g]].slice(0)).replace(new RegExp("{data}","g"),s[g]),n=n.replace(new RegExp("#"+g,"g"),p);else if(t[g]&&t[g].default){var p;p=(p=t[g].default.slice(0)).replace(new RegExp("{data}","g"),s[g]),n=n.replace(new RegExp("#"+g,"g"),p)}else n=n.replace(new RegExp("#"+g,"g"),s[g]);else n=n.replace(new RegExp("#"+g,"g"),s[g]);if(d.innerHTML=n,a=d.querySelector(":not(style):not(script)"),i=d.querySelector("script"),r=d.querySelector("style"),i&&((l=document.createElement("script")).innerHTML=i.innerHTML),0<a.getElementsByTagName("send").length){var u=a.getElementsByTagName("send")[0];c&&c.forEach(function(e){u.parentElement.insertBefore(e,u)});try{u.remove()}catch(e){delete u}}return l&&a.appendChild(l),r&&a.appendChild(r),a},getList:function(){return g.getState()},subscribe:function(e){g.subscribe(e)}}}();